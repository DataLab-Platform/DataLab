# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2023, DataLab Platform Developers
# This file is distributed under the same license as the DataLab package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2025.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: DataLab \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-07-06 14:46+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language: fr\n"
"Language-Team: fr <LL@li.org>\n"
"Plural-Forms: nplurals=2; plural=(n > 1);\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.17.0\n"

msgid "Tutorial on how to prototype a custom image processing pipeline using DataLab (macro, plugin, external IDE, Jupyter notebook)"
msgstr ""

msgid "DataLab, custom function, macro-command, plugin, image processing, prototype, Spyder, Jupyter"
msgstr ""

msgid ":octicon:`book;1em;sd-text-info` Prototyping a custom processing pipeline"
msgstr ""

msgid "This example shows how to prototype a custom image processing pipeline using DataLab:"
msgstr ""

msgid "Define a custom processing function"
msgstr ""

msgid "Create a macro-command to apply the function to an image"
msgstr ""

msgid "Use the same code from an external IDE (e.g. Spyder) or a Jupyter notebook"
msgstr ""

msgid "Create a plugin to integrate the function in the DataLab GUI"
msgstr ""

msgid "For illustrating the extensibility of DataLab, we will use a simple image processing function that is not available in the standard DataLab distribution, and that represents a typical use case for prototyping a custom processing pipeline."
msgstr ""

msgid "The function that we will work on is a denoising filter that combines the ideas of averaging and edge detection. This filter will average the pixel values in the neighborhood, but with a twist: it will give less weight to pixels that are significantly different from the central pixel, assuming they might be part of an edge or noise."
msgstr ""

msgid "Here is the code of the ``weighted_average_denoise`` function::"
msgstr ""

msgid "For testing our processing function, we will use a generated image from a DataLab plugin example (`plugins/examples/datalab_example_imageproc.py`). Before starting, make sure that the plugin is installed in DataLab (see the first steps of the tutorial :ref:`tutorial_blobs`)."
msgstr ""

msgid "To begin, we reorganize the window layout of DataLab to have the \"Image Panel\" on the left and the \"Macro Panel\" on the right."
msgstr ""

msgid "We generate a new image using the \"Plugins > Extract blobs (example) > Generate test image\" menu."
msgstr ""

msgid "We select a limited size for the image (e.g. 512x512 pixels) because our algorithm is quite slow, and click on \"OK\"."
msgstr ""

msgid "We can now see the generated image in the \"Image Panel\"."
msgstr ""

msgid "Create a macro-command"
msgstr ""

msgid "Let's get back to our custom function. We can create a new macro-command that will apply the function to the current image. To do so, we open the \"Macro Panel\" and click on the \"New macro\" |libre-gui-add| button."
msgstr ""

msgid "libre-gui-add"
msgstr ""

msgid "DataLab creates a new macro-command which is not empty: it contains a sample code that shows how to create a new image and add it to the \"Image Panel\". We can remove this code and replace it with our own code::"
msgstr ""

msgid "In DataLab, macro-commands are simply Python scripts:"
msgstr ""

msgid "Macros are part of DataLab's **workspace**, which means that they are saved and restored when exporting and importing to/from an HDF5 file."
msgstr ""

msgid "Macros are executed in a separate process, so we need to import the necessary modules and initialize the proxy to DataLab. The proxy is a special object that allows to communicate with DataLab."
msgstr ""

msgid "As a consequence, **when defining a plugin or when controlling DataLab from an external IDE, we can use exactly the same code as in the macro-command**. This is a very important point, because it means that we can prototype our processing pipeline in DataLab, and then use the same code in a plugin or in an external IDE to develop it further."
msgstr ""

msgid "The macro-command is executed in DataLab's Python environment, so we can use the modules that are available in DataLab. However, we can also use our own modules, as long as they are installed in DataLab's Python environment or in a Python distribution that is compatible with DataLab's Python environment."
msgstr ""

msgid "If your custom modules are not installed in DataLab's Python environment, and if they are compatible with DataLab's Python version, you can prepend the ``sys.path`` with the path to the Python distribution that contains your modules::"
msgstr ""

msgid "This will allow you to import your modules in the macro-command and mix them with the modules that are available in DataLab."
msgstr ""

msgid "If you use this method, make sure that your modules are compatible with DataLab's Python version. Otherwise, you will get errors when importing them."
msgstr ""

msgid "Now, let's execute the macro-command by clicking on the \"Run macro\" |libre-camera-flash-on| button:"
msgstr ""

msgid "libre-camera-flash-on"
msgstr ""

msgid "The macro-command is executed in a separate process, so we can continue to work in DataLab while the macro-command is running. And, if the macro-command takes too long to execute, we can stop it by clicking on the \"Stop macro\" |libre-camera-flash-off| button."
msgstr ""

msgid "libre-camera-flash-off"
msgstr ""

msgid "During the execution of the macro-command, we can see the progress in the \"Macro Panel\" window: the process standard output is displayed in the \"Console\" below the macro editor. We can see the following messages:"
msgstr ""

msgid "``---[...]---[# ==> Running 'Untitled 01' macro...]``: the macro-command starts"
msgstr ""

msgid "``Connecting to DataLab XML-RPC server...OK [...]``: the proxy is connected to DataLab"
msgstr ""

msgid "``---[...]---[# <== 'Untitled 01' macro has finished]``: the macro-command ends"
msgstr ""

msgid "When the macro-command has finished, we can see the new image in the \"Image Panel\". Our filter has been applied to the image, and we can see that the noise has been reduced."
msgstr ""

msgid "Prototyping with an external IDE"
msgstr ""

msgid "Now that we have a working prototype of our processing pipeline, we can use the same code in an external IDE to develop it further."
msgstr ""

msgid "For example, we can use the Spyder IDE to debug our code. To do so, we need to install Spyder but not necessarily in DataLab's Python environment (in the case of the stand-alone version of DataLab, it wouldn't be possible anyway)."
msgstr ""

msgid "The only requirement is to install a DataLab client in Spyder's Python environment:"
msgstr ""

msgid "If you use the stand-alone version of DataLab or if you want or need to keep DataLab and Spyder in separate Python environments, you can install the `DataLab Simple Client <https://pypi.org/project/cdlclient/>`_ (``datalab-client``) using the ``pip`` package manager::"
msgstr ""

msgid "Or you may also install the `DataLab Python package <https://pypi.org/project/datalab-platform/>`_ (``datalab``) which includes the client (but also other modules, so we don't recommend this method if you don't need all DataLab's features in this Python environment)::"
msgstr ""

msgid "If you use the DataLab Python package, you may run Spyder in the same Python environment as DataLab, so you don't need to install the client: it is already available in the main DataLab package (the ``datalab`` package)."
msgstr ""

msgid "Once the client is installed, we can start Spyder and create a new Python script:"
msgstr ""

msgid "We go back to DataLab and select the first image in the \"Image Panel\"."
msgstr ""

msgid "Then, we execute the script in Spyder, step-by-step (using the defined cells), and we can see the result in DataLab."
msgstr ""

msgid "We can see in DataLab that a new image has been added to the \"Image Panel\". This image is the result of the execution of the script in Spyder. Here we have used the script without any modification, but we could have modified it to test new ideas, and then use the modified script in DataLab."
msgstr ""

msgid "Prototyping with a Jupyter notebook"
msgstr ""

msgid "We can also use a Jupyter notebook to prototype our processing pipeline. To do so, we need to install Jupyter but not necessarily in DataLab's Python environment (in the case of the stand-alone version of DataLab, it wouldn't be possible anyway)."
msgstr ""

msgid "The only requirement is to install a DataLab client in Jupyter's Python environment (see the previous section for more details: that is exactly the same procedure as for Spyder or any other IDE like Visual Studio Code, for example)."
msgstr ""

msgid "Once the client is installed, we can start Jupyter and create a new notebook."
msgstr ""

msgid "Then, we execute the notebook in Jupyter, step-by-step (using the defined cells), and we can see the result in DataLab. Once again, we can see in DataLab that a new image has been added to the \"Image Panel\". This image is the result of the execution of the notebook in Jupyter. As for the script in Spyder, we could have modified the notebook to test new ideas, and then use the modified notebook in DataLab."
msgstr ""

msgid "Creating a plugin"
msgstr ""

msgid "Now that we have a working prototype of our processing pipeline, we can create a plugin to integrate it in DataLab's GUI. To do so, we need to create a new Python module that will contain the plugin code. We can use the same code as in the macro-command, but we need to make some changes."
msgstr ""

msgid "The plugin system is described in the :ref:`about_plugins` section."
msgstr ""

msgid "Apart from integrating the feature to DataLab's GUI which is more convenient for the user, the advantage of creating a plugin is that we can take benefit of the DataLab infrastructure, if we encapsulate our processing function in a certain way (see below):"
msgstr ""

msgid "Our function will be executed in a separate process, so we can interrupt it if it takes too long to execute."
msgstr ""

msgid "Warnings and errors will be handled by DataLab, so we don't need to handle them ourselves."
msgstr ""

msgid "The most significant change is that we need to define a function that will be operating on DataLab's native image objects (:class:`sigima.objects.ImageObj`), instead of operating on NumPy arrays. So we need to find a way to call our custom function ``weighted_average_denoise`` with a :class:`sigima.objects.ImageObj` as input and output. To avoid writing a lot of boilerplate code, we can use the function wrapper provided by DataLab: :class:`sigima.computation.image.Wrap1to1Func`."
msgstr ""

msgid "Besides we need to define a class that describes our plugin, which must inherit from :class:`datalab.plugins.PluginBase` and name the Python script that contains the plugin code with a name that starts with ``datalab_`` (e.g. ``datalab_custom_func.py``), so that DataLab can discover it at startup."
msgstr ""

msgid "Moreover, inside the plugin code, we want to add an entry in the \"Plugins\" menu, so that the user can access our plugin from the GUI."
msgstr ""

msgid "Here is the plugin code:"
msgstr ""

msgid "To test it, we have to add the plugin script to one of the plugin directories that are discovered by DataLab at startup (see the :ref:`about_plugins` section for more details, or the :ref:`tutorial_blobs` for an example)."
msgstr ""

msgid "We restart DataLab and we can see that the plugin has been loaded."
msgstr ""

msgid "We generate again our test image using (see the first steps of the tutorial), and we process it using the plugin: \"Plugins > My custom filters > Weighted average denoise\"."
msgstr ""
